{"ast":null,"code":"var _jsxFileName = \"/Users/youngsangkim/Documents/GitHub/YKStudio/front/src/pages/account/ResetPassword.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ResetPassword = props => {\n  _s();\n\n  // States\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(''); // Handlers\n\n  const resetPasswordHandler = async e => {\n    e.preventDefault();\n    console.log(password, confirmPassword, 'clicked');\n    const config = {\n      header: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n\n    if (password !== confirmPassword) {\n      setPassword('');\n      setConfirmPassword('');\n      setTimeout(() => {\n        setError('');\n      }, 5000);\n      return setError('Passwords does not match');\n    }\n\n    try {\n      let resetToken = window.location.pathname.slice(15);\n      console.log(resetToken);\n      const {\n        data\n      } = await axios.put(`${process.env.REACT_APP_SERVER_URL}/auth/resetpassword/${resetToken}`, {\n        password\n      }, config); // TODO: update sucess\n\n      if (data.success) {\n        setSuccess(`${data.data} Please login again`);\n      }\n    } catch (error) {\n      console.log(error);\n      setError(error.response);\n      setTimeout(() => {\n        setError('');\n      }, 5000);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-md w-full space-y-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"mx-auto h-12 w-auto\",\n          src: \"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg\",\n          alt: \"Workflow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mt-6 text-center text-3xl font-extrabold text-gray-900\",\n          children: \"Reset your password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), !!error ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-center text-sm font-medium text-indigo-500\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this) : null, !!success ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-center text-sm font-medium text-indigo-500\",\n          children: success\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"mt-8 space-y-6\",\n        onSubmit: resetPasswordHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"hidden\",\n          name: \"remember\",\n          defaultValue: \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rounded-md shadow-sm -space-y-px\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              className: \"sr-only\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"password\",\n              name: \"password\",\n              type: \"password\",\n              autoComplete: \"current-password\",\n              required: true,\n              className: \"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\",\n              placeholder: \"Password\",\n              value: password,\n              onChange: e => setPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"passwordConfirm\",\n              className: \"sr-only\",\n              children: \"Confirm Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"passwordConfirm\",\n              name: \"passwordConfirm\",\n              type: \"password\",\n              autoComplete: \"current-password\",\n              required: true,\n              className: \"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\",\n              placeholder: \"Confirm Password\",\n              value: confirmPassword,\n              onChange: e => setConfirmPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n            children: \"Reset your password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ResetPassword, \"F8eFNaY9aMIFxMAhHi5sIKx7tKw=\");\n\n_c = ResetPassword;\nexport default ResetPassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"ResetPassword\");","map":{"version":3,"names":["useState","axios","ResetPassword","props","password","setPassword","confirmPassword","setConfirmPassword","error","setError","success","setSuccess","resetPasswordHandler","e","preventDefault","console","log","config","header","setTimeout","resetToken","window","location","pathname","slice","data","put","process","env","REACT_APP_SERVER_URL","response","target","value"],"sources":["/Users/youngsangkim/Documents/GitHub/YKStudio/front/src/pages/account/ResetPassword.js"],"sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\n\nconst ResetPassword = (props) => {\n\n  // States\n  const [ password, setPassword ] = useState('');\n  const [ confirmPassword, setConfirmPassword ] = useState('');\n  const [ error, setError ] = useState('');\n  const [ success, setSuccess ] = useState('');\n\n  // Handlers\n  const resetPasswordHandler = async (e) => {\n    e.preventDefault();\n    console.log(password, confirmPassword, 'clicked')\n\n    const config = {\n      header: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n\n    if(password !== confirmPassword) {\n      setPassword('');\n      setConfirmPassword('');\n      setTimeout(() => {\n        setError('');\n      },5000)\n      return setError('Passwords does not match')\n    }\n\n    try {\n      let resetToken = window.location.pathname.slice(15)\n      console.log(resetToken)\n      const { data } = await axios.put(`${process.env.REACT_APP_SERVER_URL}/auth/resetpassword/${resetToken}`, { password }, config)\n      // TODO: update sucess\n      if(data.success) {\n        setSuccess(`${data.data} Please login again`)\n      }\n    } catch (error) {\n      console.log(error)\n      setError(error.response);\n      setTimeout(() => {\n        setError('');\n      }, 5000)\n    }\n  }\n\n  return (\n    <div className=\"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          {/* TODO: Change logo image */}\n          <img\n            className=\"mx-auto h-12 w-auto\"\n            src=\"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg\"\n            alt=\"Workflow\"\n          />\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">Reset your password</h2>\n          {!!error ? \n            <p className=\"mt-2 text-center text-sm font-medium text-indigo-500\">\n              {error}\n            </p>\n          :\n          null\n          }\n          {!!success?\n            <p className='mt-2 text-center text-sm font-medium text-indigo-500'>\n              {success}\n            </p>\n          :\n          null\n          }\n        </div>\n        <form className=\"mt-8 space-y-6\" onSubmit={resetPasswordHandler}>\n          <input type=\"hidden\" name=\"remember\" defaultValue=\"true\" />\n          <div className=\"rounded-md shadow-sm -space-y-px\">\n            <div>\n              <label htmlFor=\"password\" className=\"sr-only\">\n                Password\n              </label>\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                autoComplete=\"current-password\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"passwordConfirm\" className=\"sr-only\">\n                Confirm Password\n              </label>\n              <input\n                id=\"passwordConfirm\"\n                name=\"passwordConfirm\"\n                type=\"password\"\n                autoComplete=\"current-password\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Confirm Password\"\n                value={confirmPassword}\n                onChange={(e) => setConfirmPassword(e.target.value)}\n              />\n            </div>\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n            >\n              Reset your password\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default ResetPassword;"],"mappings":"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"},"metadata":{},"sourceType":"module"}